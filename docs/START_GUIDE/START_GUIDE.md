# Первоначальная настройка

Что должно быть установлено:

- Python3
- Ruby
- Bundler

Так же для корректной работы должен быть настроен SSH для гитхаба. [Инструкция по настройке](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)

## Установка ruby и bundler

Для более удобного управления версиями ruby рекомендую установить rbenv.

Шаг 1. Устанавливаем rbenv любым доступным способом (если устанвлен homebrew, можно пользоваться командой ниже)

```bash
brew install rbenv
```

Шаг 2. Настраиваем rbenv для работы с вашим терминалом

```bash
rbenv init
```

Шаг 3. Устанавливаем ruby

```bash
rbenv install 3.2.6
```

Шаг 4. Фиксируем версию ruby для работы внутри консоли

```bash
rbenv global 3.2.6   # установить версию Ruby по умолчанию для этой машины
# или:
rbenv local 3.2.6    # установить версию Ruby для этого каталога
```

Шаг 5. Устанавливаем bundler

```bash
gem install bundler
```

> **_Заметка:_** Более подробную инструкцию по работе с rbenv можно [найти тут](https://github.com/rbenv/rbenv)

## Установка python

Python уже должен быть предустановлен на mac по умолчанию.

Но если его нет. То можно воспользоваться командой ниже

```bash
brew install python
```

## Установка зависимостей

Для автоматизаций на проекте используется fastlane. Чтобы он заработал, нужно установить все зависимости для этого нужно выполнить следующие команды:

Шаг 1. Из корня проекта переходим в папку ci

```bash
cd ci
```

Шаг 2. Устаналиваем зависимости

```bash
bundle install
```

## Установка параметров окружения для работы автоматизаций

Необходимо скачать `.env.default` файл из [репозитория](https://github.com/Telegru/ios-shared-secrets). Если доступа нет, обратиться к админам. Положить его по пути в папку ci. Открыть этот файл и прописать в переменную SOURCE_PATH - путь до директории с проектом.

> **_Внимание:_** В нем хранится секрет для сертифактов разработки. Ни в коем случае не заливать его в репозиторий. Если залил, сообщить админам об этом.
